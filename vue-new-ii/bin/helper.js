"use strict";var chalk=require("chalk"),inquirer=require("inquirer"),ora=require("ora"),fs=require("fs");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var chalk__default=_interopDefaultLegacy(chalk),inquirer__default=_interopDefaultLegacy(inquirer),ora__default=_interopDefaultLegacy(ora),fs__default=_interopDefaultLegacy(fs);function createVueFile(c,n){inquirer__default.default.prompt([{type:"checkbox",message:"组件的标签生成:",name:"list",choices:[{name:"<template>",checked:!0},{name:"<script>",checked:!0},{name:"<style>",checked:!0}]}]).then(function(e){var t=(t=e.list).map(function(e){return/style/.test(e)?e.substr(0,6)+' lang="stylus" scoped>\n\n'+e[0]+"/"+e.substr(1):/script/.test(e)?e+"\nexport default {  \n\tdata (){\n\t\treturn {\n\t\t} \n\t}\n}\n"+e[0]+"/"+e.substr(1)+"\n":/template/.test(e)?e+"\n\t<div></div>    \n"+e[0]+"/"+e.substr(1):void 0});fs__default.default.existsSync("./src/".concat(n.toLowerCase()))||fs__default.default.mkdirSync("./src/".concat(n.toLowerCase()));var a=ora__default.default("文件生成中 ...").start(),e="./src/".concat(n.toLowerCase(),"/").concat(c,".vue");if(fs__default.default.existsSync(e))return a.fail(chalk__default.default.red("文件已经存在"));fs__default.default.writeFileSync(e,t.join("\n"),{}),a.text=chalk__default.default.red("".concat(c,".vue  "))+chalk__default.default.green("文件生成成功..."),a.succeed()})}function createStoreFile(a,e){inquirer__default.default.prompt([{type:"checkbox",message:"状态树的属性生成:",name:"list",choices:[{name:"namespaced",checked:!0},{name:"modules",checked:!1},{name:"getters",checked:!1},{name:"state",checked:!0},{name:"mutations",checked:!0},{name:"actions",checked:!0}]}]).then(function(e){var t=(t=e.list).map(function(e){return"  ".concat(e,"namespaced"===e?": true":": {\n\n  }")});fs__default.default.existsSync("./src/store")||fs__default.default.mkdirSync("./src/store"),fs__default.default.existsSync("./src/store/modules")||fs__default.default.mkdirSync("./src/store/modules");e=ora__default.default("文件生成中 ...").start();fs__default.default.writeFileSync("./src/store/modules/".concat(a,".js"),"export default {\n".concat(t.join(",\n"),"\n};\n"),{}),e.text=chalk__default.default.red("".concat(a,".js  "))+chalk__default.default.green("文件生成成功..."),e.succeed()})}function createUtilsFile(e,t){fs__default.default.existsSync("./src/utils")||fs__default.default.mkdirSync("./src/utils");var a=ora__default.default("文件生成中 ...").start();fs__default.default.writeFileSync("./src/utils/".concat(e,".js"),"export default {\n\n\n\n\n};\n",{}),a.text=chalk__default.default.red("".concat(e,".js  "))+chalk__default.default.green("文件生成成功..."),a.succeed()}inquirer__default.default.prompt({type:"list",message:chalk__default.default.red("[Myworld] ")+"请选择生成的文件.",name:"type",choices:[{name:"View"},{name:"Components"},{name:"Store"},{name:"Utils"}]}).then(function(e){var t=e.type;inquirer__default.default.prompt([{type:"input",message:t+"  的名字请选择",name:"file",validate:function(e){return!!e||"文件名必须存在"}}]).then(function(e){e=e.file;switch(t){case"View":case"Components":createVueFile(e,t);break;case"Store":createStoreFile(e);break;case"Utils":createUtilsFile(e)}})});
